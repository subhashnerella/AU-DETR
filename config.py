import os
from collections import OrderedDict
import numpy as np

ROOT_PATH = '/home/subhashnerella/lab_work/AU_DETR/'
DATA_ROOT_PATH = '/data/datasets/users/subhash/BP4D/data_processed/'


DLIB_MODEL_PATH =os.path.join(ROOT_PATH , 'image_toolkit/shape_predictor_68_face_landmarks.dat')

BP4D_USE_AU= ['1', '2', '4', '9', '10', '11', '12', '14', '15', '17', '23', '24']
LABEL_MAP = dict(zip(np.array(BP4D_USE_AU,np.int),np.arange(len(BP4D_USE_AU))))

IMG_SIZE = (512,512)

ROI_LANDMARK = OrderedDict({"1": ["17u","19u","19","17"], #eye brow
                "2": ["19u","21u","21","19"],
                "3": ["21u", "27uu","27","21"],
                "4": ["27uu","22u","27","22"],
                "5": ["22u","24u","24","22"],
                "6": ["24u","26u","26","24"],
                #eye and temple
                "7": ["0","1", "17", "36"],
                "8": ["17","19","37","36"],
                "9": ["19","38","39","21"],
                "10":["21","27","28","39"],
                "11":["22","27","28", "42"],
                "12":["22","42","43","24"],
                "13":["24","44","45","26"],
                "14":["26","16","15","45"],
                #middle
                "15":["2","41~2","3~29","3"],
                "16":["41","2~41","3~29","39"],
                "17":["39","3~29","29","28"],
                "18":["28","29","13~29","42"],
                "19":["42","46","14~46","13~29"],
                "20":["14~46","14","13","13~29"],
                #middle down
                "21":["3","3~29","4~33","4"],
                "22":["4~33","3~29","29","33"],
                "23":["33","29","13~29","12~33"],
                "24":["13~29","13","12","12~33"],
                #mouth
                "25":["4","4~33","5~59","5"],
                "26":["5~59","4~33","33","59"],
                "27":["33","55","11~55","12~33"],
                "28":["11~55","12~33","12","11"],
                #below mouth
                "29":["59","58","6~58","5~59"],
                "30":["6~58","58","57","8~57"],
                "31":["57","8~57","10~56","56"],
                "32":["56","10~56","11~55","55"],
                #chin
                "33":["5","5~59","6~58","6"],
                "34":["6","6~58","8~57","8"],
                "35":["8~57","10~56","10","8"],
                "36":["10~56","10","11","11~55"],
                #miss part mouth
                "37":["33","55","56","57","58","59"],
                "38":["1","2","36","37"],
                "39":["14","15","44","45"],
                "40":["19","37","38"],
                "41":["24","43","44"],
                "42": ["36","37", "38", "39", "40", "41"], # left eye
                "43": ["42","43","44","45","46","47"]
                })

AU_ROI = OrderedDict({"1":[1, 2, 8, 9, 5, 6, 12, 13, 40, 41, 42, 43],  
                      "2":[1, 2, 8, 9, 5, 6, 12, 13, 40, 41, 42, 43],  
                      "4":[1, 2, 3, 4, 8, 9, 5, 6, 12, 13, 40, 41],  
                      "5":[1, 2, 8, 9, 5, 6, 12, 13, 40, 41, 42, 43], 
                      "6":[42,43,16,17,18,19],
                      "7":[1, 2, 8, 9, 5, 6, 12, 13, 40, 41, 42, 43], 
                      "9":[10,11,17,18,22,23],
                      "10":[21,22,23,24,25,26,27,28,37], 
                      "11":[21,22,23,24,25,26,27,28,37], 
                      "12":[21,22,23,24,25,26,27,28,37], 
                      "13":[21,22,23,24,25,26,27,28,37], 
                      "14":[21,22,23,24,25,26,27,28,37], 
                      "15":[21,22,23,24,25,26,27,28,37], 
                      "16":[25,26,27,28,29,30,31,32,33,34,35,36,37], 
                      "17":[29,30,31,32,33,34,35,36],
                      "18":[26,27,37,29,30,31,32], 
                      "20":[25,26,27,28,29,30,31,32,33,34,35,36,37],
                      "22":[26,27,37,29,30,31,32],  
                      "23":[26,27,37,29,30,31,32],
                      "24":[26,27,37,29,30,31,32],
                      "25":[25,26,27,28,29,30,31,32,33,34,35,36,37],
                      "26":[25,26,27,28,29,30,31,32,33,34,35,36,37], 
                      "27":[25,26,27,28,29,30,31,32,33,34,35,36,37],
                      "28":[26,27,37,29,30,31,32],
                      "41":[8,9,12,13,40,41,42,43], 
                      "42":[8,9,12,13,40,41,42,43], 
                      "43":[8,9,12,13,40,41,42,43],})

AU_BBOX = OrderedDict({'1':[1,2,5,7],
                       '2':[4],
                       '3':[6],
                       '4':[9],
                       '5':[10,11,12,1,3,14,15],
                       '6':[16,20,25,26,27],
                       '7':[17],
                       '8':[18,22,23,24,28],
                       '9':[43]
                      })

AU_BBOX_ROI = OrderedDict({'1':[1, 2, 8, 9, 5, 6, 12, 13, 40, 41, 42, 43],
                           '2':[1, 2, 3, 4, 8, 9, 5, 6, 12, 13, 40, 41],
                           '3':[42,43,16,17,18,19],
                           '4':[10,11,17,18,22,23],
                           '5':[21,22,23,24,25,26,27,28,37],
                           '6':[25,26,27,28,29,30,31,32,33,34,35,36,37],
                           '7':[29,30,31,32,33,34,35,36],
                           '8':[26,27,37,29,30,31,32],
                           '9':[8,9,12,13,40,41,42,43]
                      })



AU_BOX = {'1': ['48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59'],
          '2': ['6', '7', '8', '9', '48', '49', '50', '51', '52', '53', '54'],
          '3': ['28','29','30','31','32','33','34','35','3~29','13~29'],
          '4': ['27', '28', '29', '30', '31', '32', '33', '34', '35'],
          '5': ['17u', '18u', '19u', '20u', '21u', '22u', '23u', '24u', '25u', '26u', '36', '39', '40', '41', '42', '45', '46', '47'],
          '6': ['17u', '18u', '19u', '20u', '21u',  '37', '38'],
          '7': ['22u', '23u', '24u', '25u', '26u',  '43', '44']              
         }

AU_BOX_map = {'1': [10,12,14,15,23,24],
              '2': [17],
              '3': [11],
              '4': [9],
              '5': [4],
              '6': [1,2],
              '7': [1,2]
             }